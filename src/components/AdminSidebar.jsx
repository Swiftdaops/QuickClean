"use client"; import React from 'react';
import Link from 'next/link';
import { useRouter, usePathname } from 'next/navigation';
import { useAuth } from '@/context/AuthContext'; export default function AdminSidebar({ isMobile = false, onClose = () => {} }) { const { logout, isAuthenticated } = useAuth(); const router = useRouter(); function handleLogout() { logout(); router.push('/admin/login'); onClose(); } const pathname = usePathname(); if (!isAuthenticated) { return ( <div className={` p-4 rounded ${isMobile ? '' : ''}`}> <div className=" ">Not logged in</div> <Link href="/admin/login" className="block mt-2 " onClick={onClose}>Login</Link> </div> ); } const linkClass = (href) => { const active = pathname === href || (href !== '/' && pathname?.startsWith(href)); return `py-2 px-2 rounded ${active ? ' font-semibold' : ' '}`; }; return ( <aside className={` border rounded p-4 h-full`}> <div className="mb-4"> <div className=" ">Admin</div> <div className=" font-semibold mt-1">Dashboard</div> </div> <nav className="flex flex-col gap-2 "> <Link href="/admin/dashboard" onClick={onClose} className={linkClass('/admin/dashboard')}>Overview</Link> <Link href="/admin/stores" onClick={onClose} className={linkClass('/admin/stores')}>Store Management</Link> <Link href="/admin/services" onClick={onClose} className={linkClass('/admin/services')}>Services</Link> <Link href="/admin/settings" onClick={onClose} className={linkClass('/admin/settings')}>Settings</Link> </nav> <div className="mt-6"> <button onClick={handleLogout} className="w-full py-2 px-2 rounded ">Logout</button> </div> </aside> );
}
